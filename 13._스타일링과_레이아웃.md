# Next.js 13장 - 스타일링과 레이아웃

## 목차
1. [스타일링 개념과 방식](#1-스타일링-개념과-방식)
2. [글로벌 스타일](#2-글로벌-스타일)
3. [CSS-in-JS와 Material-UI](#3-css-in-js와-material-ui)
4. [레이아웃 컴포넌트](#4-레이아웃-컴포넌트)
5. [테마와 다크모드](#5-테마와-다크모드)
6. [반응형 디자인](#6-반응형-디자인)
7. [실습 프로젝트](#7-실습-프로젝트)

---

## 1. 스타일링 개념과 방식

### 1.1 Next.js에서 지원하는 스타일링 방법

Next.js는 다양한 스타일링 방법을 지원합니다:

| 방식 | 특징 | 장점 | 단점 |
|------|------|------|------|
| CSS Modules | 로컬 스코프 CSS | 네임스페이스 충돌 방지 | 동적 스타일링 제한 |
| Styled Components | CSS-in-JS | 동적 스타일링 용이 | 런타임 오버헤드 |
| Emotion | CSS-in-JS | 성능 최적화 | 초기 설정 복잡 |
| Tailwind CSS | 유틸리티 퍼스트 | 빠른 개발 | 클래스명 복잡 |
| Material-UI | 컴포넌트 라이브러리 | 완성도 높은 UI | 커스터마이징 제한 |

### 1.2 Material-UI 선택 이유

Material-UI (현재 MUI)는 Google의 Material Design을 React로 구현한 컴포넌트 라이브러리입니다.

**장점:**
- 완성도 높은 컴포넌트
- 접근성 기본 지원
- 테마 시스템
- TypeScript 완벽 지원
- 큰 커뮤니티와 생태계

---

## 2. 글로벌 스타일

### 2.1 프로젝트 설정

먼저 필요한 패키지를 설치합니다:

```bash
# Next.js 프로젝트 생성
npx create-next-app@latest styling-tutorial --typescript --eslint --tailwind --src-dir --app --turbo --alias
cd styling-tutorial

# Material-UI 설치
npm install @mui/material @emotion/react @emotion/styled
npm install @mui/icons-material @mui/system
npm install @mui/x-date-pickers dayjs

# 폰트 설치
npm install @fontsource/roboto
```

### 2.2 글로벌 스타일 설정

```typescript
// src/app/globals.css
@import '@fontsource/roboto/300.css';
@import '@fontsource/roboto/400.css';
@import '@fontsource/roboto/500.css';
@import '@fontsource/roboto/700.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* 글로벌 리셋 */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
  font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

/* 다크모드 지원 */
@media (prefers-color-scheme: dark) {
  html {
    color-scheme: dark;
  }
}

/* 커스텀 스크롤바 */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #a8a8a8;
}

/* 포커스 아웃라인 */
.focus-visible {
  outline: 2px solid #2196f3;
  outline-offset: 2px;
}

/* 애니메이션 클래스 */
.fade-in {
  animation: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.slide-up {
  animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}
```

---

## 3. CSS-in-JS와 Material-UI

### 3.1 테마 설정

```typescript
// src/lib/theme.ts
'use client';

import { createTheme, ThemeOptions } from '@mui/material/styles';
import { Roboto } from 'next/font/google';

const roboto = Roboto({
  weight: ['300', '400', '500', '700'],
  subsets: ['latin'],
  display: 'swap',
});

// 공통 테마 설정
const baseTheme: ThemeOptions = {
  typography: {
    fontFamily: roboto.style.fontFamily,
    h1: {
      fontSize: '2.5rem',
      fontWeight: 600,
      lineHeight: 1.2,
    },
    h2: {
      fontSize: '2rem',
      fontWeight: 600,
      lineHeight: 1.3,
    },
    h3: {
      fontSize: '1.75rem',
      fontWeight: 500,
      lineHeight: 1.3,
    },
    h4: {
      fontSize: '1.5rem',
      fontWeight: 500,
      lineHeight: 1.4,
    },
    h5: {
      fontSize: '1.25rem',
      fontWeight: 500,
      lineHeight: 1.4,
    },
    h6: {
      fontSize: '1rem',
      fontWeight: 500,
      lineHeight: 1.5,
    },
    body1: {
      fontSize: '1rem',
      lineHeight: 1.6,
    },
    body2: {
      fontSize: '0.875rem',
      lineHeight: 1.5,
    },
  },
  shape: {
    borderRadius: 8,
  },
  components: {
    MuiButton: {
      styleOverrides: {
        root: {
          textTransform: 'none',
          fontWeight: 500,
          borderRadius: 8,
          padding: '8px 16px',
        },
      },
    },
    MuiCard: {
      styleOverrides: {
        root: {
          boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)',
          borderRadius: 12,
        },
      },
    },
    MuiTextField: {
      styleOverrides: {
        root: {
          '& .MuiOutlinedInput-root': {
            borderRadius: 8,
          },
        },
      },
    },
  },
};

// 라이트 테마
export const lightTheme = createTheme({
  ...baseTheme,
  palette: {
    mode: 'light',
    primary: {
      main: '#1976d2',
      light: '#42a5f5',
      dark: '#1565c0',
      contrastText: '#ffffff',
    },
    secondary: {
      main: '#9c27b0',
      light: '#ba68c8',
      dark: '#7b1fa2',
      contrastText: '#ffffff',
    },
    error: {
      main: '#d32f2f',
      light: '#ef5350',
      dark: '#c62828',
    },
    warning: {
      main: '#ed6c02',
      light: '#ff9800',
      dark: '#e65100',
    },
    info: {
      main: '#0288d1',
      light: '#03a9f4',
      dark: '#01579b',
    },
    success: {
      main: '#2e7d32',
      light: '#4caf50',
      dark: '#1b5e20',
    },
    background: {
      default: '#fafafa',
      paper: '#ffffff',
    },
    text: {
      primary: 'rgba(0, 0, 0, 0.87)',
      secondary: 'rgba(0, 0, 0, 0.6)',
    },
  },
});

// 다크 테마
export const darkTheme = createTheme({
  ...baseTheme,
  palette: {
    mode: 'dark',
    primary: {
      main: '#90caf9',
      light: '#e3f2fd',
      dark: '#42a5f5',
      contrastText: '#000000',
    },
    secondary: {
      main: '#ce93d8',
      light: '#f3e5f5',
      dark: '#ab47bc',
      contrastText: '#000000',
    },
    background: {
      default: '#121212',
      paper: '#1e1e1e',
    },
    text: {
      primary: '#ffffff',
      secondary: 'rgba(255, 255, 255, 0.7)',
    },
  },
});
```

### 3.2 테마 프로바이더 설정

```typescript
// src/components/providers/ThemeProvider.tsx
'use client';

import React, { createContext, useContext, useState, useEffect } from 'react';
import { ThemeProvider as MuiThemeProvider } from '@mui/material/styles';
import CssBaseline from '@mui/material/CssBaseline';
import { lightTheme, darkTheme } from '@/lib/theme';

type ThemeMode = 'light' | 'dark' | 'system';

interface ThemeContextType {
  mode: ThemeMode;
  toggleTheme: () => void;
  setThemeMode: (mode: ThemeMode) => void;
}

const ThemeContext = createContext<ThemeContextType | undefined>(undefined);

export const useTheme = () => {
  const context = useContext(ThemeContext);
  if (!context) {
    throw new Error('useTheme must be used within a ThemeProvider');
  }
  return context;
};

interface ThemeProviderProps {
  children: React.ReactNode;
}

export default function ThemeProvider({ children }: ThemeProviderProps) {
  const [mode, setMode] = useState<ThemeMode>('system');
  const [resolvedTheme, setResolvedTheme] = useState<'light' | 'dark'>('light');

  // 테마 초기화
  useEffect(() => {
    const savedMode = localStorage.getItem('themeMode') as ThemeMode;
    if (savedMode) {
      setMode(savedMode);
    }
  }, []);

  // 시스템 테마 감지
  useEffect(() => {
    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
    const handleChange = () => {
      if (mode === 'system') {
        setResolvedTheme(mediaQuery.matches ? 'dark' : 'light');
      }
    };

    // 초기 설정
    if (mode === 'system') {
      setResolvedTheme(mediaQuery.matches ? 'dark' : 'light');
    } else {
      setResolvedTheme(mode === 'dark' ? 'dark' : 'light');
    }

    mediaQuery.addEventListener('change', handleChange);
    return () => mediaQuery.removeEventListener('change', handleChange);
  }, [mode]);

  const setThemeMode = (newMode: ThemeMode) => {
    setMode(newMode);
    localStorage.setItem('themeMode', newMode);
  };

  const toggleTheme = () => {
    const newMode = resolvedTheme === 'light' ? 'dark' : 'light';
    setThemeMode(newMode);
  };

  const currentTheme = resolvedTheme === 'dark' ? darkTheme : lightTheme;

  return (
    <ThemeContext.Provider value={{ mode, toggleTheme, setThemeMode }}>
      <MuiThemeProvider theme={currentTheme}>
        <CssBaseline />
        {children}
      </MuiThemeProvider>
    </ThemeContext.Provider>
  );
}
```

---

## 4. 레이아웃 컴포넌트

### 4.1 헤더 컴포넌트

```typescript
// src/components/layout/Header.tsx
'use client';

import React, { useState } from 'react';
import Link from 'next/link';
import {
  AppBar,
  Toolbar,
  Typography,
  Button,
  IconButton,
  Menu,
  MenuItem,
  Box,
  useTheme,
  useMediaQuery,
  Drawer,
  List,
  ListItem,
  ListItemIcon,
  ListItemText,
  Divider,
} from '@mui/material';
import {
  Menu as MenuIcon,
  Brightness4,
  Brightness7,
  Home,
  Info,
  Work,
  ContactMail,
  Close,
} from '@mui/icons-material';
import { useTheme as useCustomTheme } from '@/components/providers/ThemeProvider';

const navigationItems = [
  { label: '홈', href: '/', icon: Home },
  { label: '소개', href: '/about', icon: Info },
  { label: '서비스', href: '/services', icon: Work },
  { label: '연락처', href: '/contact', icon: ContactMail },
];

export default function Header() {
  const theme = useTheme();
  const { toggleTheme } = useCustomTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down('md'));
  const [mobileOpen, setMobileOpen] = useState(false);
  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);

  const handleDrawerToggle = () => {
    setMobileOpen(!mobileOpen);
  };

  const handleMenu = (event: React.MouseEvent<HTMLElement>) => {
    setAnchorEl(event.currentTarget);
  };

  const handleClose = () => {
    setAnchorEl(null);
  };

  // 모바일 드로어 컨텐츠
  const drawer = (
    <Box sx={{ width: 250 }}>
      <Box
        sx={{
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'space-between',
          p: 2,
        }}
      >
        <Typography variant="h6" component="div">
          메뉴
        </Typography>
        <IconButton onClick={handleDrawerToggle}>
          <Close />
        </IconButton>
      </Box>
      <Divider />
      <List>
        {navigationItems.map((item) => {
          const IconComponent = item.icon;
          return (
            <ListItem key={item.label} component={Link} href={item.href}>
              <ListItemIcon>
                <IconComponent />
              </ListItemIcon>
              <ListItemText primary={item.label} />
            </ListItem>
          );
        })}
      </List>
      <Divider />
      <ListItem>
        <ListItemIcon>
          {theme.palette.mode === 'dark' ? <Brightness7 /> : <Brightness4 />}
        </ListItemIcon>
        <ListItemText primary="테마 변경" />
        <IconButton onClick={toggleTheme}>
          {theme.palette.mode === 'dark' ? <Brightness7 /> : <Brightness4 />}
        </IconButton>
      </ListItem>
    </Box>
  );

  return (
    <>
      <AppBar position="sticky" elevation={0}>
        <Toolbar>
          {/* 로고 */}
          <Typography
            variant="h6"
            component={Link}
            href="/"
            sx={{
              flexGrow: 0,
              mr: 4,
              textDecoration: 'none',
              color: 'inherit',
              fontWeight: 700,
            }}
          >
            MyApp
          </Typography>

          {/* 데스크톱 네비게이션 */}
          {!isMobile && (
            <Box sx={{ flexGrow: 1, display: 'flex', gap: 1 }}>
              {navigationItems.map((item) => (
                <Button
                  key={item.label}
                  component={Link}
                  href={item.href}
                  color="inherit"
                  sx={{ textTransform: 'none' }}
                >
                  {item.label}
                </Button>
              ))}
            </Box>
          )}

          <Box sx={{ flexGrow: 1 }} />

          {/* 테마 토글 버튼 */}
          <IconButton color="inherit" onClick={toggleTheme}>
            {theme.palette.mode === 'dark' ? <Brightness7 /> : <Brightness4 />}
          </IconButton>

          {/* 사용자 메뉴 */}
          <IconButton
            size="large"
            aria-label="account of current user"
            aria-controls="menu-appbar"
            aria-haspopup="true"
            onClick={handleMenu}
            color="inherit"
          >
            <MenuIcon />
          </IconButton>
          <Menu
            id="menu-appbar"
            anchorEl={anchorEl}
            anchorOrigin={{
              vertical: 'top',
              horizontal: 'right',
            }}
            keepMounted
            transformOrigin={{
              vertical: 'top',
              horizontal: 'right',
            }}
            open={Boolean(anchorEl)}
            onClose={handleClose}
          >
            <MenuItem onClick={handleClose}>프로필</MenuItem>
            <MenuItem onClick={handleClose}>설정</MenuItem>
            <MenuItem onClick={handleClose}>로그아웃</MenuItem>
          </Menu>

          {/* 모바일 햄버거 메뉴 */}
          {isMobile && (
            <IconButton
              color="inherit"
              aria-label="open drawer"
              edge="start"
              onClick={handleDrawerToggle}
              sx={{ ml: 1 }}
            >
              <MenuIcon />
            </IconButton>
          )}
        </Toolbar>
      </AppBar>

      {/* 모바일 드로어 */}
      <Drawer
        variant="temporary"
        anchor="right"
        open={mobileOpen}
        onClose={handleDrawerToggle}
        ModalProps={{
          keepMounted: true, // 성능상 이점을 위해
        }}
      >
        {drawer}
      </Drawer>
    </>
  );
}
```

### 4.2 푸터 컴포넌트

```typescript
// src/components/layout/Footer.tsx
'use client';

import React from 'react';
import Link from 'next/link';
import {
  Box,
  Container,
  Grid,
  Typography,
  IconButton,
  Divider,
  useTheme,
} from '@mui/material';
import {
  Facebook,
  Twitter,
  Instagram,
  LinkedIn,
  GitHub,
  Email,
  Phone,
  LocationOn,
} from '@mui/icons-material';

const socialLinks = [
  { name: 'Facebook', icon: Facebook, href: 'https://facebook.com' },
  { name: 'Twitter', icon: Twitter, href: 'https://twitter.com' },
  { name: 'Instagram', icon: Instagram, href: 'https://instagram.com' },
  { name: 'LinkedIn', icon: LinkedIn, href: 'https://linkedin.com' },
  { name: 'GitHub', icon: GitHub, href: 'https://github.com' },
];

const footerSections = [
  {
    title: '서비스',
    links: [
      { name: '웹 개발', href: '/services/web' },
      { name: '모바일 앱', href: '/services/mobile' },
      { name: 'UI/UX 디자인', href: '/services/design' },
      { name: '컨설팅', href: '/services/consulting' },
    ],
  },
  {
    title: '회사',
    links: [
      { name: '소개', href: '/about' },
      { name: '팀', href: '/team' },
      { name: '채용', href: '/careers' },
      { name: '뉴스', href: '/news' },
    ],
  },
  {
    title: '고객지원',
    links: [
      { name: 'FAQ', href: '/faq' },
      { name: '문의하기', href: '/contact' },
      { name: '기술지원', href: '/support' },
      { name: '문서', href: '/docs' },
    ],
  },
];

export default function Footer() {
  const theme = useTheme();
  const currentYear = new Date().getFullYear();

  return (
    <Box
      component="footer"
      sx={{
        backgroundColor: theme.palette.mode === 'dark' 
          ? theme.palette.grey[900] 
          : theme.palette.grey[100],
        mt: 'auto',
        py: 6,
      }}
    >
      <Container maxWidth="lg">
        <Grid container spacing={4}>
          {/* 회사 정보 */}
          <Grid item xs={12} md={4}>
            <Typography variant="h6" gutterBottom fontWeight={700}>
              MyApp
            </Typography>
            <Typography variant="body2" color="text.secondary" paragraph>
              혁신적인 웹 솔루션을 제공하는 기술 회사입니다. 
              고객의 비즈니스 성장을 위한 최적의 디지털 경험을 만들어갑니다.
            </Typography>
            
            {/* 연락처 정보 */}
            <Box sx={{ mb: 2 }}>
              <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>
                <Email sx={{ mr: 1, fontSize: '1rem' }} />
                <Typography variant="body2" color="text.secondary">
                  contact@myapp.com
                </Typography>
              </Box>
              <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>
                <Phone sx={{ mr: 1, fontSize: '1rem' }} />
                <Typography variant="body2" color="text.secondary">
                  +82 2-1234-5678
                </Typography>
              </Box>
              <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>
                <LocationOn sx={{ mr: 1, fontSize: '1rem' }} />
                <Typography variant="body2" color="text.secondary">
                  서울특별시 강남구 테헤란로 123
                </Typography>
              </Box>
            </Box>

            {/* 소셜 미디어 링크 */}
            <Box>
              {socialLinks.map((social) => {
                const IconComponent = social.icon;
                return (
                  <IconButton
                    key={social.name}
                    href={social.href}
                    target="_blank"
                    rel="noopener noreferrer"
                    size="small"
                    sx={{ mr: 1 }}
                  >
                    <IconComponent fontSize="small" />
                  </IconButton>
                );
              })}
            </Box>
          </Grid>

          {/* 링크 섹션들 */}
          {footerSections.map((section) => (
            <Grid item xs={12} sm={6} md={2.67} key={section.title}>
              <Typography variant="h6" gutterBottom fontWeight={600}>
                {section.title}
              </Typography>
              <Box>
                {section.links.map((link) => (
                  <Typography
                    key={link.name}
                    variant="body2"
                    component={Link}
                    href={link.href}
                    sx={{
                      display: 'block',
                      color: 'text.secondary',
                      textDecoration: 'none',
                      py: 0.5,
                      '&:hover': {
                        color: 'primary.main',
                        textDecoration: 'underline',
                      },
                    }}
                  >
                    {link.name}
                  </Typography>
                ))}
              </Box>
            </Grid>
          ))}
        </Grid>

        <Divider sx={{ my: 4 }} />

        {/* 저작권 정보 */}
        <Box
          sx={{
            display: 'flex',
            flexDirection: { xs: 'column', sm: 'row' },
            justifyContent: 'space-between',
            alignItems: 'center',
            gap: 2,
          }}
        >
          <Typography variant="body2" color="text.secondary">
            © {currentYear} MyApp. All rights reserved.
          </Typography>
          <Box
            sx={{
              display: 'flex',
              gap: 3,
              flexWrap: 'wrap',
              justifyContent: 'center',
            }}
          >
            <Typography
              variant="body2"
              component={Link}
              href="/privacy"
              sx={{
                color: 'text.secondary',
                textDecoration: 'none',
                '&:hover': {
                  color: 'primary.main',
                  textDecoration: 'underline',
                },
              }}
            >
              개인정보처리방침
            </Typography>
            <Typography
              variant="body2"
              component={Link}
              href="/terms"
              sx={{
                color: 'text.secondary',
                textDecoration: 'none',
                '&:hover': {
                  color: 'primary.main',
                  textDecoration: 'underline',
                },
              }}
            >
              이용약관
            </Typography>
            <Typography
              variant="body2"
              component={Link}
              href="/cookies"
              sx={{
                color: 'text.secondary',
                textDecoration: 'none',
                '&:hover': {
                  color: 'primary.main',
                  textDecoration: 'underline',
                },
              }}
            >
              쿠키 정책
            </Typography>
          </Box>
        </Box>
      </Container>
    </Box>
  );
}
```

### 4.3 메인 레이아웃 컴포넌트

```typescript
// src/components/layout/MainLayout.tsx
'use client';

import React from 'react';
import { Box } from '@mui/material';
import Header from './Header';
import Footer from './Footer';

interface MainLayoutProps {
  children: React.ReactNode;
}

export default function MainLayout({ children }: MainLayoutProps) {
  return (
    <Box
      sx={{
        display: 'flex',
        flexDirection: 'column',
        minHeight: '100vh',
      }}
    >
      <Header />
      <Box
        component="main"
        sx={{
          flex: 1,
          display: 'flex',
          flexDirection: 'column',
        }}
      >
        {children}
      </Box>
      <Footer />
    </Box>
  );
}
```

---

## 5. 테마와 다크모드

### 5.1 테마 토글 컴포넌트

```typescript
// src/components/common/ThemeToggle.tsx
'use client';

import React from 'react';
import {
  ToggleButton,
  ToggleButtonGroup,
  Box,
  Typography,
  Paper,
  useTheme,
} from '@mui/material';
import {
  Brightness4,
  Brightness7,
  SettingsBrightness,
} from '@mui/icons-material';
import { useTheme as useCustomTheme } from '@/components/providers/ThemeProvider';

export default function ThemeToggle() {
  const theme = useTheme();
  const { mode, setThemeMode } = useCustomTheme();

  const handleThemeChange = (
    _event: React.MouseEvent<HTMLElement>,
    newMode: string | null,
  ) => {
    if (newMode !== null) {
      setThemeMode(newMode as 'light' | 'dark' | 'system');
    }
  };

  return (
    <Paper elevation={1} sx={{ p: 3, borderRadius: 2 }}>
      <Typography variant="h6" gutterBottom>
        테마 설정
      </Typography>
      <Typography variant="body2" color="text.secondary" paragraph>
        원하는 테마를 선택하거나 시스템 설정을 따를 수 있습니다.
      </Typography>
      
      <Box sx={{ mt: 2 }}>
        <ToggleButtonGroup
          value={mode}
          exclusive
          onChange={handleThemeChange}
          aria-label="theme selection"
          fullWidth
        >
          <ToggleButton value="light" aria-label="light theme">
            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>
              <Brightness7 />
              <Typography variant="body2">라이트</Typography>
            </Box>
          </ToggleButton>
          <ToggleButton value="dark" aria-label="dark theme">
            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>
              <Brightness4 />
              <Typography variant="body2">다크</Typography>
            </Box>
          </ToggleButton>
          <ToggleButton value="system" aria-label="system theme">
            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>
              <SettingsBrightness />
              <Typography variant="body2">시스템</Typography>
            </Box>
          </ToggleButton>
        </ToggleButtonGroup>
      </Box>

      <Box sx={{ mt: 2, p: 2, backgroundColor: theme.palette.action.hover, borderRadius: 1 }}>
        <Typography variant="caption" color="text.secondary">
          현재 테마: {theme.palette.mode === 'dark' ? '다크 모드' : '라이트 모드'}
        </Typography>
      </Box>
    </Paper>
  );
}
```

---

## 6. 반응형 디자인

### 6.1 반응형 카드 그리드

```typescript
// src/components/common/ResponsiveGrid.tsx
'use client';

import React from 'react';
import {
  Grid,
  Card,
  CardContent,
  CardMedia,
  CardActions,
  Typography,
  Button,
  Box,
  Chip,
  useTheme,
  useMediaQuery,
} from '@mui/material';
import {
  Favorite,
  Share,
  Visibility,
  Schedule,
} from '@mui/icons-material';

interface GridItem {
  id: number;
  title: string;
  description: string;
  image: string;
  category: string;
  date: string;
  views: number;
  likes: number;
}

const sampleData: GridItem[] = [
  {
    id: 1,
    title: 'Next.js 13 완전 정복하기',
    description: 'App Router와 Server Components를 활용한 최신 Next.js 개발 방법을 알아보세요.',
    image: 'https://picsum.photos/300/200?random=1',
    category: '개발',
    date: '2024-01-15',
    views: 1250,
    likes: 89,
  },
  {
    id: 2,
    title: 'TypeScript 고급 패턴',
    description: '실무에서 사용하는 TypeScript의 고급 타입 시스템과 패턴들을 소개합니다.',
    image: 'https://picsum.photos/300/200?random=2',
    category: '프로그래밍',
    date: '2024-01-12',
    views: 980,
    likes: 67,
  },
  {
    id: 3,
    title: 'Material-UI 디자인 시스템',
    description: '일관성 있는 UI/UX를 위한 Material-UI 활용법과 커스터마이징 방법.',
    image: 'https://picsum.photos/300/200?random=3',
    category: '디자인',
    date: '2024-01-10',
    views: 750,
    likes: 45,
  },
  {
    id: 4,
    title: '반응형 웹 디자인 원칙',
    description: '모든 디바이스에서 완벽하게 작동하는 반응형 웹사이트 구축 가이드.',
    image: 'https://picsum.photos/300/200?random=4',
    category: '웹 디자인',
    date: '2024-01-08',
    views: 1100,
    likes: 72,
  },
  {
    id: 5,
    title: 'React 성능 최적화',
    description: '메모이제이션과 코드 분할을 통한 React 애플리케이션 성능 향상 기법.',
    image: 'https://picsum.photos/300/200?random=5',
    category: '개발',
    date: '2024-01-05',
    views: 1350,
    likes: 95,
  },
  {
    id: 6,
    title: 'CSS-in-JS vs CSS Modules',
    description: '다양한 스타일링 방법론의 장단점과 적절한 선택 기준을 알아보세요.',
    image: 'https://picsum.photos/300/200?random=6',
    category: '스타일링',
    date: '2024-01-03',
    views: 820,
    likes: 58,
  },
];

export default function ResponsiveGrid() {
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));
  const isTablet = useMediaQuery(theme.breakpoints.down('md'));

  const getGridColumns = () => {
    if (isMobile) return 12;
    if (isTablet) return 6;
    return 4;
  };

  const formatDate = (dateString: string) => {
    const date = new Date(dateString);
    return date.toLocaleDateString('ko-KR', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
    });
  };

  const formatNumber = (num: number) => {
    if (num >= 1000) {
      return `${(num / 1000).toFixed(1)}k`;
    }
    return num.toString();
  };

  return (
    <Box sx={{ flexGrow: 1, p: 3 }}>
      <Typography variant="h4" component="h1" gutterBottom align="center">
        반응형 콘텐츠 그리드
      </Typography>
      <Typography 
        variant="body1" 
        color="text.secondary" 
        paragraph 
        align="center"
        sx={{ mb: 4 }}
      >
        다양한 화면 크기에 맞춰 자동으로 조정되는 카드 레이아웃입니다.
      </Typography>

      <Grid container spacing={3}>
        {sampleData.map((item) => (
          <Grid item xs={12} sm={6} md={4} lg={4} xl={3} key={item.id}>
            <Card
              sx={{
                height: '100%',
                display: 'flex',
                flexDirection: 'column',
                transition: 'all 0.3s ease-in-out',
                '&:hover': {
                  transform: 'translateY(-4px)',
                  boxShadow: theme.shadows[8],
                },
              }}
            >
              <CardMedia
                component="img"
                height="200"
                image={item.image}
                alt={item.title}
                sx={{
                  objectFit: 'cover',
                }}
              />
              <CardContent sx={{ flexGrow: 1, p: 2 }}>
                <Box sx={{ mb: 1 }}>
                  <Chip
                    label={item.category}
                    size="small"
                    color="primary"
                    variant="outlined"
                  />
                </Box>
                
                <Typography
                  variant="h6"
                  component="h2"
                  gutterBottom
                  sx={{
                    fontSize: isMobile ? '1.1rem' : '1.25rem',
                    lineHeight: 1.3,
                    display: '-webkit-box',
                    WebkitLineClamp: 2,
                    WebkitBoxOrient: 'vertical',
                    overflow: 'hidden',
                  }}
                >
                  {item.title}
                </Typography>
                
                <Typography
                  variant="body2"
                  color="text.secondary"
                  sx={{
                    display: '-webkit-box',
                    WebkitLineClamp: 3,
                    WebkitBoxOrient: 'vertical',
                    overflow: 'hidden',
                    mb: 2,
                  }}
                >
                  {item.description}
                </Typography>

                <Box
                  sx={{
                    display: 'flex',
                    alignItems: 'center',
                    gap: 1,
                    mb: 1,
                  }}
                >
                  <Schedule fontSize="small" color="action" />
                  <Typography variant="caption" color="text.secondary">
                    {formatDate(item.date)}
                  </Typography>
                </Box>

                <Box
                  sx={{
                    display: 'flex',
                    alignItems: 'center',
                    gap: 2,
                  }}
                >
                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 0.5 }}>
                    <Visibility fontSize="small" color="action" />
                    <Typography variant="caption" color="text.secondary">
                      {formatNumber(item.views)}
                    </Typography>
                  </Box>
                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 0.5 }}>
                    <Favorite fontSize="small" color="action" />
                    <Typography variant="caption" color="text.secondary">
                      {formatNumber(item.likes)}
                    </Typography>
                  </Box>
                </Box>
              </CardContent>
              
              <CardActions sx={{ p: 2, pt: 0 }}>
                <Button
                  size="small"
                  variant="outlined"
                  fullWidth={isMobile}
                  sx={{ mr: 1 }}
                >
                  자세히 보기
                </Button>
                <Button
                  size="small"
                  startIcon={<Share />}
                  fullWidth={isMobile}
                >
                  공유
                </Button>
              </CardActions>
            </Card>
          </Grid>
        ))}
      </Grid>
    </Box>
  );
}
```

---

## 7. 실습 프로젝트

### 7.1 루트 레이아웃 설정

```typescript
// src/app/layout.tsx
import type { Metadata } from 'next';
import { Inter } from 'next/font/google';
import ThemeProvider from '@/components/providers/ThemeProvider';
import './globals.css';

const inter = Inter({ subsets: ['latin'] });

export const metadata: Metadata = {
  title: {
    template: '%s | Next.js 스타일링 튜토리얼',
    default: 'Next.js 스타일링 튜토리얼',
  },
  description: 'Material-UI와 함께 하는 Next.js 스타일링 가이드',
  keywords: ['Next.js', 'React', 'Material-UI', 'TypeScript', 'Styling'],
  authors: [{ name: 'Development Team' }],
  creator: 'Next.js Tutorial',
  openGraph: {
    type: 'website',
    locale: 'ko_KR',
    title: 'Next.js 스타일링 튜토리얼',
    description: 'Material-UI와 함께 하는 Next.js 스타일링 가이드',
    siteName: 'Next.js Tutorial',
  },
  twitter: {
    card: 'summary_large_image',
    title: 'Next.js 스타일링 튜토리얼',
    description: 'Material-UI와 함께 하는 Next.js 스타일링 가이드',
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
    },
  },
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="ko">
      <body className={inter.className} suppressHydrationWarning>
        <ThemeProvider>
          {children}
        </ThemeProvider>
      </body>
    </html>
  );
}
```

### 7.2 메인 페이지

```typescript
// src/app/page.tsx
import React from 'react';
import {
  Container,
  Typography,
  Box,
  Button,
  Grid,
  Card,
  CardContent,
  CardActions,
  Chip,
  Paper,
} from '@mui/material';
import {
  Palette,
  Devices,
  Speed,
  Security,
  Code,
  Brush,
} from '@mui/icons-material';
import MainLayout from '@/components/layout/MainLayout';
import ResponsiveGrid from '@/components/common/ResponsiveGrid';
import ThemeToggle from '@/components/common/ThemeToggle';
import Link from 'next/link';

const features = [
  {
    icon: Palette,
    title: '테마 시스템',
    description: '라이트/다크 모드를 지원하는 완전한 테마 시스템',
    color: '#e91e63' as const,
  },
  {
    icon: Devices,
    title: '반응형 디자인',
    description: '모든 디바이스에서 완벽하게 작동하는 반응형 레이아웃',
    color: '#2196f3' as const,
  },
  {
    icon: Speed,
    title: '빠른 성능',
    description: 'Turbopack을 활용한 초고속 개발 및 빌드 환경',
    color: '#ff9800' as const,
  },
  {
    icon: Security,
    title: '타입 안정성',
    description: 'TypeScript로 보장되는 완전한 타입 안정성',
    color: '#4caf50' as const,
  },
  {
    icon: Code,
    title: '최신 기술',
    description: 'Next.js 15 App Router와 최신 React 기능 활용',
    color: '#9c27b0' as const,
  },
  {
    icon: Brush,
    title: 'Material Design',
    description: 'Google Material Design 3.0을 따르는 현대적 UI',
    color: '#f44336' as const,
  },
];

export default function HomePage() {
  return (
    <MainLayout>
      {/* 히어로 섹션 */}
      <Box
        sx={{
          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
          color: 'white',
          py: { xs: 8, md: 12 },
          position: 'relative',
          overflow: 'hidden',
        }}
      >
        <Container maxWidth="lg">
          <Grid container alignItems="center" spacing={4}>
            <Grid item xs={12} md={6}>
              <Typography
                variant="h2"
                component="h1"
                gutterBottom
                sx={{
                  fontWeight: 700,
                  fontSize: { xs: '2.5rem', md: '3.5rem' },
                  lineHeight: 1.2,
                }}
              >
                Next.js 스타일링 & 레이아웃
              </Typography>
              <Typography
                variant="h5"
                component="p"
                sx={{
                  mb: 4,
                  opacity: 0.9,
                  fontSize: { xs: '1.2rem', md: '1.5rem' },
                }}
              >
                Material-UI와 함께 만드는 현대적이고 반응형인 웹 애플리케이션
              </Typography>
              <Box sx={{ display: 'flex', gap: 2, flexWrap: 'wrap' }}>
                <Button
                  variant="contained"
                  size="large"
                  component={Link}
                  href="/examples"
                  sx={{
                    backgroundColor: 'rgba(255, 255, 255, 0.2)',
                    backdropFilter: 'blur(10px)',
                    '&:hover': {
                      backgroundColor: 'rgba(255, 255, 255, 0.3)',
                    },
                  }}
                >
                  예제 보기
                </Button>
                <Button
                  variant="outlined"
                  size="large"
                  component={Link}
                  href="/docs"
                  sx={{
                    borderColor: 'rgba(255, 255, 255, 0.5)',
                    color: 'white',
                    '&:hover': {
                      borderColor: 'white',
                      backgroundColor: 'rgba(255, 255, 255, 0.1)',
                    },
                  }}
                >
                  문서 보기
                </Button>
              </Box>
            </Grid>
            <Grid item xs={12} md={6}>
              <Box sx={{ textAlign: 'center' }}>
                <ThemeToggle />
              </Box>
            </Grid>
          </Grid>
        </Container>
      </Box>

      {/* 특징 섹션 */}
      <Container maxWidth="lg" sx={{ py: 8 }}>
        <Typography
          variant="h3"
          component="h2"
          align="center"
          gutterBottom
          sx={{ mb: 2, fontWeight: 600 }}
        >
          주요 특징
        </Typography>
        <Typography
          variant="h6"
          align="center"
          color="text.secondary"
          paragraph
          sx={{ mb: 6, maxWidth: '600px', mx: 'auto' }}
        >
          현대적인 웹 개발을 위한 모든 도구와 컴포넌트를 제공합니다
        </Typography>

        <Grid container spacing={4}>
          {features.map((feature, index) => {
            const IconComponent = feature.icon;
            return (
              <Grid item xs={12} sm={6} md={4} key={index}>
                <Card
                  sx={{
                    height: '100%',
                    transition: 'all 0.3s ease-in-out',
                    '&:hover': {
                      transform: 'translateY(-8px)',
                      boxShadow: 4,
                    },
                  }}
                >
                  <CardContent sx={{ textAlign: 'center', p: 3 }}>
                    <Box
                      sx={{
                        display: 'inline-flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        width: 64,
                        height: 64,
                        borderRadius: '50%',
                        backgroundColor: `${feature.color}20`,
                        mb: 2,
                      }}
                    >
                      <IconComponent
                        sx={{ fontSize: 32, color: feature.color }}
                      />
                    </Box>
                    <Typography variant="h5" component="h3" gutterBottom>
                      {feature.title}
                    </Typography>
                    <Typography variant="body1" color="text.secondary">
                      {feature.description}
                    </Typography>
                  </CardContent>
                </Card>
              </Grid>
            );
          })}
        </Grid>
      </Container>

      {/* 기술 스택 섹션 */}
      <Box sx={{ backgroundColor: 'background.paper', py: 8 }}>
        <Container maxWidth="lg">
          <Typography
            variant="h3"
            component="h2"
            align="center"
            gutterBottom
            sx={{ mb: 6, fontWeight: 600 }}
          >
            사용된 기술
          </Typography>
          
          <Grid container spacing={3} justifyContent="center">
            {[
              'Next.js 15',
              'React 18',
              'TypeScript',
              'Material-UI v5',
              'Emotion',
              'Turbopack',
            ].map((tech) => (
              <Grid item key={tech}>
                <Chip
                  label={tech}
                  variant="outlined"
                  size="large"
                  sx={{
                    fontSize: '1rem',
                    height: 40,
                    '&:hover': {
                      backgroundColor: 'primary.main',
                      color: 'primary.contrastText',
                    },
                  }}
                />
              </Grid>
            ))}
          </Grid>
        </Container>
      </Box>

      {/* 반응형 그리드 섹션 */}
      <ResponsiveGrid />

      {/* CTA 섹션 */}
      <Paper
        elevation={0}
        sx={{
          background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',
          py: 8,
          textAlign: 'center',
        }}
      >
        <Container maxWidth="md">
          <Typography
            variant="h3"
            component="h2"
            gutterBottom
            sx={{ color: 'white', fontWeight: 700 }}
          >
            지금 시작해보세요!
          </Typography>
          <Typography
            variant="h6"
            paragraph
            sx={{ color: 'rgba(255, 255, 255, 0.9)', mb: 4 }}
          >
            완성도 높은 컴포넌트와 레이아웃으로 빠르게 프로젝트를 시작하세요
          </Typography>
          <Button
            variant="contained"
            size="large"
            component={Link}
            href="/getting-started"
            sx={{
              backgroundColor: 'rgba(255, 255, 255, 0.2)',
              backdropFilter: 'blur(10px)',
              fontSize: '1.1rem',
              px: 4,
              py: 1.5,
              '&:hover': {
                backgroundColor: 'rgba(255, 255, 255, 0.3)',
              },
            }}
          >
            시작하기
          </Button>
        </Container>
      </Paper>
    </MainLayout>
  );
}
```

### 7.3 추가 페이지들

```typescript
// src/app/about/page.tsx
import React from 'react';
import {
  Container,
  Typography,
  Box,
  Grid,
  Card,
  CardContent,
  Avatar,
  Chip,
  LinearProgress,
  Paper,
} from '@mui/material';
import { Code, Brush, Speed } from '@mui/icons-material';
import MainLayout from '@/components/layout/MainLayout';

const skills = [
  { name: 'React/Next.js', level: 95, color: '#61dafb' },
  { name: 'TypeScript', level: 90, color: '#3178c6' },
  { name: 'Material-UI', level: 88, color: '#0081cb' },
  { name: 'Node.js', level: 85, color: '#339933' },
  { name: 'Python', level: 80, color: '#3776ab' },
  { name: 'AWS', level: 75, color: '#ff9900' },
];

const teamMembers = [
  {
    name: '김개발',
    role: 'Frontend Developer',
    avatar: 'https://i.pravatar.cc/150?img=1',
    skills: ['React', 'TypeScript', 'Next.js'],
  },
  {
    name: '이디자인',
    role: 'UI/UX Designer',
    avatar: 'https://i.pravatar.cc/150?img=2',
    skills: ['Figma', 'Sketch', 'Adobe XD'],
  },
  {
    name: '박백엔드',
    role: 'Backend Developer',
    avatar: 'https://i.pravatar.cc/150?img=3',
    skills: ['Node.js', 'Python', 'AWS'],
  },
];

export default function AboutPage() {
  return (
    <MainLayout>
      <Container maxWidth="lg" sx={{ py: 8 }}>
        {/* 헤더 섹션 */}
        <Box sx={{ textAlign: 'center', mb: 8 }}>
          <Typography
            variant="h2"
            component="h1"
            gutterBottom
            sx={{ fontWeight: 700, mb: 2 }}
          >
            우리에 대해
          </Typography>
          <Typography
            variant="h5"
            color="text.secondary"
            paragraph
            sx={{ maxWidth: '800px', mx: 'auto' }}
          >
            혁신적인 웹 기술로 더 나은 디지털 경험을 만들어가는 개발팀입니다.
            사용자 중심의 사고와 최신 기술을 바탕으로 가치 있는 서비스를 제공합니다.
          </Typography>
        </Box>

        {/* 미션 비전 섹션 */}
        <Grid container spacing={4} sx={{ mb: 8 }}>
          <Grid item xs={12} md={4}>
            <Card sx={{ height: '100%', textAlign: 'center', p: 3 }}>
              <Code sx={{ fontSize: 48, color: 'primary.main', mb: 2 }} />
              <Typography variant="h5" component="h3" gutterBottom>
                혁신
              </Typography>
              <Typography variant="body1" color="text.secondary">
                최신 기술과 트렌드를 적극 도입하여 혁신적인 솔루션을 제공합니다.
              </Typography>
            </Card>
          </Grid>
          <Grid item xs={12} md={4}>
            <Card sx={{ height: '100%', textAlign: 'center', p: 3 }}>
              <Brush sx={{ fontSize: 48, color: 'secondary.main', mb: 2 }} />
              <Typography variant="h5" component="h3" gutterBottom>
                사용자 중심
              </Typography>
              <Typography variant="body1" color="text.secondary">
                사용자의 니즈를 깊이 이해하고 최고의 경험을 제공하기 위해 노력합니다.
              </Typography>
            </Card>
          </Grid>
          <Grid item xs={12} md={4}>
            <Card sx={{ height: '100%', textAlign: 'center', p: 3 }}>
              <Speed sx={{ fontSize: 48, color: 'success.main', mb: 2 }} />
              <Typography variant="h5" component="h3" gutterBottom>
                품질
              </Typography>
              <Typography variant="body1" color="text.secondary">
                코드 품질과 성능을 최우선으로 하여 안정적인 서비스를 구축합니다.
              </Typography>
            </Card>
          </Grid>
        </Grid>

        {/* 팀 소개 */}
        <Box sx={{ mb: 8 }}>
          <Typography
            variant="h3"
            component="h2"
            align="center"
            gutterBottom
            sx={{ mb: 6, fontWeight: 600 }}
          >
            팀 소개
          </Typography>
          <Grid container spacing={4}>
            {teamMembers.map((member, index) => (
              <Grid item xs={12} sm={6} md={4} key={index}>
                <Card sx={{ textAlign: 'center', p: 3 }}>
                  <Avatar
                    src={member.avatar}
                    alt={member.name}
                    sx={{ width: 100, height: 100, mx: 'auto', mb: 2 }}
                  />
                  <Typography variant="h5" component="h3" gutterBottom>
                    {member.name}
                  </Typography>
                  <Typography
                    variant="body2"
                    color="text.secondary"
                    paragraph
                  >
                    {member.role}
                  </Typography>
                  <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1, justifyContent: 'center' }}>
                    {member.skills.map((skill) => (
                      <Chip
                        key={skill}
                        label={skill}
                        size="small"
                        variant="outlined"
                      />
                    ))}
                  </Box>
                </Card>
              </Grid>
            ))}
          </Grid>
        </Box>

        {/* 기술 스킬 */}
        <Paper elevation={1} sx={{ p: 4 }}>
          <Typography
            variant="h4"
            component="h2"
            gutterBottom
            sx={{ mb: 4, fontWeight: 600 }}
          >
            기술 스킬
          </Typography>
          <Grid container spacing={3}>
            {skills.map((skill) => (
              <Grid item xs={12} md={6} key={skill.name}>
                <Box sx={{ mb: 2 }}>
                  <Box
                    sx={{
                      display: 'flex',
                      justifyContent: 'space-between',
                      mb: 1,
                    }}
                  >
                    <Typography variant="body1" fontWeight={500}>
                      {skill.name}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      {skill.level}%
                    </Typography>
                  </Box>
                  <LinearProgress
                    variant="determinate"
                    value={skill.level}
                    sx={{
                      height: 8,
                      borderRadius: 4,
                      backgroundColor: 'grey.200',
                      '& .MuiLinearProgress-bar': {
                        backgroundColor: skill.color,
                        borderRadius: 4,
                      },
                    }}
                  />
                </Box>
              </Grid>
            ))}
          </Grid>
        </Paper>
      </Container>
    </MainLayout>
  );
}
```

### 7.4 Package.json 설정

```json
{
  "name": "styling-tutorial",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev --turbo",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "type-check": "tsc --noEmit"
  },
  "dependencies": {
    "@emotion/react": "^11.11.1",
    "@emotion/styled": "^11.11.0",
    "@fontsource/roboto": "^5.0.8",
    "@mui/icons-material": "^5.14.19",
    "@mui/material": "^5.14.20",
    "@mui/system": "^5.14.20",
    "@mui/x-date-pickers": "^6.18.2",
    "dayjs": "^1.11.10",
    "next": "15.0.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "@types/node": "^20.9.0",
    "@types/react": "^18.2.37",
    "@types/react-dom": "^18.2.15",
    "eslint": "^8.54.0",
    "eslint-config-next": "15.0.0",
    "typescript": "^5.2.2"
  }
}
```

### 7.5 프로젝트 실행 가이드

```bash
# 1. 프로젝트 생성
npx create-next-app@latest styling-tutorial --typescript --eslint --tailwind --src-dir --app --turbo --alias

# 2. 디렉토리 이동
cd styling-tutorial

# 3. 필요한 패키지 설치
npm install @mui/material @emotion/react @emotion/styled
npm install @mui/icons-material @mui/system
npm install @mui/x-date-pickers dayjs
npm install @fontsource/roboto

# 4. 개발 서버 실행 (Turbopack 사용)
npm run dev

# 5. 빌드 및 프로덕션 실행
npm run build
npm start

# 6. 타입 체크
npm run type-check

# 7. 린트 실행
npm run lint
```

### 7.6 추가 유틸리티 컴포넌트

```typescript
// src/components/common/LoadingSpinner.tsx
'use client';

import React from 'react';
import { Box, CircularProgress, Typography } from '@mui/material';

interface LoadingSpinnerProps {
  message?: string;
  size?: number;
}

export default function LoadingSpinner({ 
  message = '로딩 중...', 
  size = 40 
}: LoadingSpinnerProps) {
  return (
    <Box
      sx={{
        display: 'flex',
        flexDirection: 'column',
        alignItems: 'center',
        justifyContent: 'center',
        py: 4,
      }}
    >
      <CircularProgress size={size} sx={{ mb: 2 }} />
      <Typography variant="body2" color="text.secondary">
        {message}
      </Typography>
    </Box>
  );
}
```

```typescript
// src/components/common/ErrorBoundary.tsx
'use client';

import React from 'react';
import {
  Box,
  Typography,
  Button,
  Alert,
  AlertTitle,
  Container,
} from '@mui/material';
import { Refresh, Home } from '@mui/icons-material';
import Link from 'next/link';

interface ErrorBoundaryProps {
  error?: Error;
  reset?: () => void;
  title?: string;
  message?: string;
}

export default function ErrorBoundary({
  error,
  reset,
  title = '오류가 발생했습니다',
  message = '페이지를 불러오는 중 문제가 발생했습니다.',
}: ErrorBoundaryProps) {
  return (
    <Container maxWidth="md" sx={{ py: 8 }}>
      <Box sx={{ textAlign: 'center' }}>
        <Alert severity="error" sx={{ mb: 4 }}>
          <AlertTitle>{title}</AlertTitle>
          {message}
          {error && (
            <Typography
              variant="body2"
              sx={{ mt: 2, fontFamily: 'monospace', fontSize: '0.8rem' }}
            >
              {error.message}
            </Typography>
          )}
        </Alert>

        <Box sx={{ display: 'flex', gap: 2, justifyContent: 'center' }}>
          {reset && (
            <Button
              variant="contained"
              startIcon={<Refresh />}
              onClick={reset}
            >
              다시 시도
            </Button>
          )}
          <Button
            variant="outlined"
            component={Link}
            href="/"
            startIcon={<Home />}
          >
            홈으로 이동
          </Button>
        </Box>
      </Box>
    </Container>
  );
}
```

### 7.7 성능 최적화 가이드

```typescript
// src/hooks/useResponsive.ts
'use client';

import { useMediaQuery, useTheme } from '@mui/material';

export default function useResponsive() {
  const theme = useTheme();
  
  return {
    isMobile: useMediaQuery(theme.breakpoints.down('sm')),
    isTablet: useMediaQuery(theme.breakpoints.down('md')),
    isDesktop: useMediaQuery(theme.breakpoints.up('lg')),
    isXl: useMediaQuery(theme.breakpoints.up('xl')),
  };
}
```

```typescript
// src/utils/theme.ts
import { PaletteMode } from '@mui/material';

export const getDesignTokens = (mode: PaletteMode) => ({
  palette: {
    mode,
    ...(mode === 'light'
      ? {
          // 라이트 모드 팔레트
          primary: {
            main: '#1976d2',
          },
          secondary: {
            main: '#9c27b0',
          },
          background: {
            default: '#fafafa',
            paper: '#fff',
          },
        }
      : {
          // 다크 모드 팔레트
          primary: {
            main: '#90caf9',
          },
          secondary: {
            main: '#ce93d8',
          },
          background: {
            default: '#121212',
            paper: '#1e1e1e',
          },
        }),
  },
});
```

### 7.8 개발 팁과 모범 사례

**1. 컴포넌트 구조**
```
src/
├── components/
│   ├── common/          # 공통 컴포넌트
│   ├── layout/          # 레이아웃 컴포넌트
│   └── providers/       # 프로바이더 컴포넌트
├── hooks/              # 커스텀 훅
├── lib/                # 라이브러리 설정
├── styles/             # 스타일 파일
├── types/              # TypeScript 타입
└── utils/              # 유틸리티 함수
```

**2. 스타일링 가이드라인**
- `sx` 프로퍼티를 통한 컴포넌트 스타일링
- 테마 시스템을 활용한 일관된 디자인
- 반응형 디자인을 위한 브레이크포인트 활용
- 접근성을 고려한 색상 대비와 키보드 네비게이션

**3. 성능 최적화**
- React.lazy와 Suspense를 활용한 코드 분할
- useCallback과 useMemo를 통한 리렌더링 최적화
- Material-UI의 트리 쉐이킹 활용
- 이미지 최적화와 지연 로딩

**4. ESLint 규칙 준수**
- Next.js 권장 ESLint 설정 사용
- TypeScript strict 모드 활성화
- import/export 규칙 준수
- 접근성 관련 jsx-a11y 규칙 준수

### 7.9 배포 및 최적화

```typescript
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    turbo: {
      rules: {
        '*.svg': {
          loaders: ['@svgr/webpack'],
          as: '*.js',
        },
      },
    },
  },
  images: {
    domains: ['picsum.photos', 'i.pravatar.cc'],
    formats: ['image/webp', 'image/avif'],
  },
  compiler: {
    emotion: true,
  },
  modularizeImports: {
    '@mui/icons-material': {
      transform: '@mui/icons-material/{{member}}',
    },
  },
};

module.exports = nextConfig;
```

### 7.10 마무리

이 교재를 통해 다음을 학습했습니다:

**핵심 학습 내용:**
1. **글로벌 스타일**: CSS 변수와 글로벌 스타일 설정
2. **Material-UI 통합**: 테마 시스템과 컴포넌트 커스터마이징
3. **레이아웃 시스템**: Header/Footer를 포함한 완전한 레이아웃 구축
4. **반응형 디자인**: 모든 디바이스에 대응하는 반응형 컴포넌트
5. **다크모드 지원**: 시스템 설정 감지와 사용자 선택 지원
6. **성능 최적화**: 코드 분할과 트리 쉐이킹

**실무 적용 가이드:**
- TypeScript를 활용한 타입 안전한 컴포넌트 개발
- ESLint 규칙을 준수한 코드 품질 관리
- Turbopack을 활용한 빠른 개발 환경 구축
- Material-UI의 디자인 시스템을 활용한 일관된 UI/UX

**다음 단계:**
- 커스텀 테마와 컴포넌트 라이브러리 구축
- 애니메이션과 마이크로 인터랙션 추가
- 접근성(a11y) 개선과 테스트 코드 작성
- 성능 모니터링과 최적화 기법 적용

## 추가 설정 파일들

### 7.11 tsconfig.json 설정

```json
// tsconfig.json
{
  "compilerOptions": {
    "lib": ["dom", "dom.iterable", "es6"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}
```

### 7.12 next.config.js 설정

```javascript
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    turbo: {
      rules: {
        '*.svg': {
          loaders: ['@svgr/webpack'],
          as: '*.js',
        },
      },
    },
  },
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: 'picsum.photos',
      },
      {
        protocol: 'https',
        hostname: 'i.pravatar.cc',
      },
    ],
    formats: ['image/webp', 'image/avif'],
  },
  compiler: {
    emotion: true,
  },
  modularizeImports: {
    '@mui/icons-material': {
      transform: '@mui/icons-material/{{member}}',
    },
    '@mui/material': {
      transform: '@mui/material/{{member}}',
    },
  },
  eslint: {
    dirs: ['src'],
  },
};

module.exports = nextConfig;
```

### 7.13 .eslintrc.json 설정

```json
// .eslintrc.json
{
  "extends": [
    "next/core-web-vitals",
    "next/typescript"
  ],
  "rules": {
    "@next/next/no-img-element": "error",
    "@typescript-eslint/no-unused-vars": "warn",
    "react-hooks/exhaustive-deps": "warn",
    "jsx-a11y/alt-text": "error",
    "jsx-a11y/aria-props": "error",
    "jsx-a11y/aria-proptypes": "error",
    "jsx-a11y/aria-unsupported-elements": "error",
    "jsx-a11y/role-has-required-aria-props": "error",
    "jsx-a11y/role-supports-aria-props": "error"
  }
}
```

### 7.14 오류 해결 가이드

**1. Material-UI 아이콘 오류 해결**
```bash
# 올바른 아이콘 이름 확인
# https://mui.com/material-ui/material-icons/
```

**2. hydration 오류 해결**
- `suppressHydrationWarning` 속성을 body 태그에 추가
- 클라이언트와 서버 간 불일치 방지

**3. 이미지 도메인 설정**
- `next.config.js`에서 `remotePatterns` 설정
- 외부 이미지 사용 시 필수

**4. 타입 오류 해결**
```typescript
// 올바른 Material-UI 타입 import
import { Theme } from '@mui/material/styles';
import { SxProps } from '@mui/system';
```

### 7.15 문제 해결 체크리스트

```bash
# 1. 패키지 재설치
rm -rf node_modules package-lock.json
npm install

# 2. Next.js 캐시 정리
npm run build -- --clean
# 또는
rm -rf .next

# 3. TypeScript 타입 체크
npx tsc --noEmit

# 4. ESLint 체크 및 자동 수정
npm run lint -- --fix

# 5. 개발 서버 재시작
npm run dev
```