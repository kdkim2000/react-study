# 06. 스타일링

## 1) CSS 모듈 / styled-components / Tailwind CSS 개요

### 어떤 기준으로 선택할까?

* **CSS 모듈**: 번들러가 클래스명을 해시로 바꿔 **로컬 스코프**를 자동 보장. 러닝커브 낮고, 기존 CSS 지식 그대로 사용. 디자인 시스템/유틸리티 미정인 팀의 **기본 선택지**로 적합.
* **styled-components**: JS/TS 안에서 **컴포넌트 단위**로 스타일 선언. **props 기반 조건부 스타일링**이 강력. 디자인 토큰, 다크모드, 복잡한 변형이 많을 때 유리.
* **Tailwind CSS**: 원자적(utility-first) 클래스. **일관된 spacing/색상/반응형 규칙**을 팀 차원에서 강제하기 좋아 **UI 속도**가 매우 빠름. HTML이 길어지지만 **디자인 가드레일**을 제공.

> 팀 관점:
>
> * “간단·직관·CSS 유지” ⇒ **CSS 모듈**
> * “컴포넌트-로직과 스타일을 한 파일에서” ⇒ **styled-components**
> * “일관된 디자인 토큰·속도” ⇒ **Tailwind**

---

## 2) 프로젝트 초기화 (Vite)

> 이전 장 프로젝트를 재사용해도 되고, 아래처럼 새로 만들어도 됩니다.

```bash
# React + SWC + TypeScript 템플릿
npm create vite@latest react-style-ts -- --template react-swc-ts
cd react-style-ts
npm install
npm run dev
```

### styled-components 설치

```bash
npm i styled-components
# (선택) v5 사용 시 타입 패키지 필요: npm i -D @types/styled-components
# SWC 사용 환경에서도 기본 기능은 바로 동작합니다.
```

### Tailwind 설치/설정

```bash
npm i -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

`tailwind.config.js` 또는 `tailwind.config.ts`의 `content`에 경로 지정:

```ts
export default {
  content: ['./index.html', './src/**/*.{ts,tsx,js,jsx}'],
  theme: { extend: {} },
  plugins: [],
}
```

`src/index.css`에 디렉티브 추가:

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

---

## 3) 실습: 카드 레이아웃 UI 만들기

같은 **카드 그리드** UI를 **세 가지 방식**(CSS 모듈 / styled-components / Tailwind)으로 구현합니다.

### 3-1) 공통 타입 & 더미 데이터

```
src/
├─ App.tsx
├─ main.tsx
├─ data.ts
├─ components/
│  ├─ cards-modules/
│  │  ├─ CardGridModules.tsx
│  │  └─ Card.module.css
│  ├─ cards-styled/
│  │  └─ CardGridStyled.tsx
│  └─ cards-tailwind/
│     └─ CardGridTw.tsx
└─ index.css
```

**`src/data.ts`**

```ts
export type CardItem = {
  id: string;
  title: string;
  description: string;
  tag?: 'New' | 'Hot' | 'Beta';
  image?: string; // 데모용 외부 이미지 또는 빈 값
};

export const items: CardItem[] = [
  { id: '1', title: '프로젝트 알파', description: 'React + TS 기반 서비스', tag: 'New', image: 'https://picsum.photos/seed/a/640/360' },
  { id: '2', title: '데이터 포털', description: '차트/대시보드 모듈', tag: 'Hot', image: 'https://picsum.photos/seed/b/640/360' },
  { id: '3', title: '모바일 앱', description: 'PWA with Offline', tag: 'Beta', image: 'https://picsum.photos/seed/c/640/360' },
  { id: '4', title: '사내 위키', description: '문서 검색/권한 관리', image: 'https://picsum.photos/seed/d/640/360' },
];
```

---

### 3-2) CSS 모듈 버전

**`src/components/cards-modules/Card.module.css`**

```css
.grid {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
}

.card {
  border: 1px solid #eee;
  border-radius: 16px;
  overflow: hidden;
  background: #fff;
  transition: transform .15s ease, box-shadow .15s ease;
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
}

.thumb {
  aspect-ratio: 16 / 9;
  background: linear-gradient(135deg, #f9fafb, #eef2ff);
  display: block;
  width: 100%;
  object-fit: cover;
}

.body {
  padding: 12px 14px;
  display: grid;
  gap: 6px;
}

.titleRow {
  display: flex;
  align-items: center;
  gap: 8px;
}

.tag {
  font-size: 12px;
  padding: 2px 8px;
  border-radius: 999px;
  background: #eef2ff;
  color: #3730a3;
}

.desc {
  color: #555;
  font-size: 14px;
}

.actions {
  padding: 0 14px 14px;
  display: flex;
  gap: 8px;
}

.button {
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 8px 10px;
  background: #fff;
  cursor: pointer;
}

.buttonPrimary {
  border: none;
  background: #111827;
  color: #fff;
}
```

**`src/components/cards-modules/CardGridModules.tsx`**

```tsx
import styles from './Card.module.css';
import type { CardItem } from '../../data';

type Props = { items: CardItem[] };

export default function CardGridModules({ items }: Props) {
  return (
    <section>
      <h2>CSS Modules</h2>
      <div className={styles.grid}>
        {items.map((item) => (
          <article key={item.id} className={styles.card}>
            {item.image ? (
              <img className={styles.thumb} src={item.image} alt={item.title} />
            ) : (
              <div className={styles.thumb} aria-hidden="true" />
            )}
            <div className={styles.body}>
              <div className={styles.titleRow}>
                <strong>{item.title}</strong>
                {item.tag && <span className={styles.tag}>{item.tag}</span>}
              </div>
              <p className={styles.desc}>{item.description}</p>
            </div>
            <div className={styles.actions}>
              <button className={styles.button}>자세히</button>
              <button className={`${styles.button} ${styles.buttonPrimary}`}>바로가기</button>
            </div>
          </article>
        ))}
      </div>
    </section>
  );
}
```

---

### 3-3) styled-components 버전

**`src/components/cards-styled/CardGridStyled.tsx`**

```tsx
import styled from 'styled-components';
import type { CardItem } from '../../data';

const Grid = styled.div`
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
`;

const Card = styled.article`
  border: 1px solid #eee;
  border-radius: 16px;
  overflow: hidden;
  background: #fff;
  transition: transform .15s ease, box-shadow .15s ease;
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 18px rgba(0,0,0,0.08);
  }
`;

const Thumb = styled.img`
  aspect-ratio: 16 / 9;
  width: 100%;
  object-fit: cover;
  background: linear-gradient(135deg, #f9fafb, #eef2ff);
`;

const Body = styled.div`
  padding: 12px 14px;
  display: grid;
  gap: 6px;
`;

const TitleRow = styled.div`
  display: flex;
  align-items: center;
  gap: 8px;
`;

const Tag = styled.span<{ tone?: 'New'|'Hot'|'Beta' }>`
  font-size: 12px;
  padding: 2px 8px;
  border-radius: 999px;
  background: ${({ tone }) =>
    tone === 'Hot' ? '#fee2e2' : tone === 'Beta' ? '#ecfeff' : '#eef2ff'};
  color: ${({ tone }) =>
    tone === 'Hot' ? '#991b1b' : tone === 'Beta' ? '#155e75' : '#3730a3'};
`;

const Desc = styled.p`
  color: #555;
  font-size: 14px;
`;

const Actions = styled.div`
  padding: 0 14px 14px;
  display: flex;
  gap: 8px;
`;

const Button = styled.button<{ primary?: boolean }>`
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 8px 10px;
  background: #fff;
  cursor: pointer;

  ${({ primary }) =>
    primary &&
    `
      border: none;
      background: #111827;
      color: #fff;
    `}
`;

type Props = { items: CardItem[] };

export default function CardGridStyled({ items }: Props) {
  return (
    <section>
      <h2>styled-components</h2>
      <Grid>
        {items.map((item) => (
          <Card key={item.id}>
            {item.image ? (
              <Thumb src={item.image} alt={item.title} />
            ) : (
              <Thumb as="div" aria-hidden="true" />
            )}
            <Body>
              <TitleRow>
                <strong>{item.title}</strong>
                {item.tag && <Tag tone={item.tag}>{item.tag}</Tag>}
              </TitleRow>
              <Desc>{item.description}</Desc>
            </Body>
            <Actions>
              <Button>자세히</Button>
              <Button primary>바로가기</Button>
            </Actions>
          </Card>
        ))}
      </Grid>
    </section>
  );
}
```

---

### 3-4) Tailwind 버전

**`src/components/cards-tailwind/CardGridTw.tsx`**

```tsx
import type { CardItem } from '../../data';

type Props = { items: CardItem[] };

const badgeTone: Record<NonNullable<CardItem['tag']>, string> = {
  New: 'bg-indigo-100 text-indigo-800',
  Hot: 'bg-red-100 text-red-800',
  Beta: 'bg-cyan-100 text-cyan-800',
};

export default function CardGridTw({ items }: Props) {
  return (
    <section>
      <h2 className="mb-2">Tailwind CSS</h2>
      <div className="grid gap-4 grid-cols-[repeat(auto-fill,minmax(240px,1fr))]">
        {items.map((item) => (
          <article
            key={item.id}
            className="border border-gray-200 rounded-2xl overflow-hidden bg-white transition
                       hover:-translate-y-0.5 hover:shadow-lg"
          >
            {item.image ? (
              <img
                src={item.image}
                alt={item.title}
                className="w-full aspect-[16/9] object-cover bg-gradient-to-br from-gray-50 to-indigo-50"
              />
            ) : (
              <div className="w-full aspect-[16/9] bg-gradient-to-br from-gray-50 to-indigo-50" />
            )}

            <div className="grid gap-1 px-4 py-3">
              <div className="flex items-center gap-2">
                <strong>{item.title}</strong>
                {item.tag && (
                  <span className={`text-xs px-2 py-0.5 rounded-full ${badgeTone[item.tag]}`}>
                    {item.tag}
                  </span>
                )}
              </div>
              <p className="text-sm text-gray-600">{item.description}</p>
            </div>

            <div className="flex gap-2 px-4 pb-4">
              <button className="border border-gray-200 rounded-xl px-3 py-2">자세히</button>
              <button className="rounded-xl px-3 py-2 bg-gray-900 text-white">바로가기</button>
            </div>
          </article>
        ))}
      </div>
    </section>
  );
}
```

---

### 3-5) App에 세 가지 버전 모두 연결

**`src/App.tsx`**

```tsx
import { items } from './data';
import CardGridModules from './components/cards-modules/CardGridModules';
import CardGridStyled from './components/cards-styled/CardGridStyled';
import CardGridTw from './components/cards-tailwind/CardGridTw';

export default function App() {
  return (
    <main style={{ fontFamily: 'system-ui', lineHeight: 1.5, padding: 24, display: 'grid', gap: 28 }}>
      <h1>06. 스타일링 — 카드 레이아웃 3가지 방식</h1>
      <CardGridModules items={items} />
      <CardGridStyled items={items} />
      <CardGridTw items={items} />
    </main>
  );
}
```

**`src/main.tsx`**

```tsx
import { createRoot } from 'react-dom/client';
import App from './App';
import './index.css';

createRoot(document.getElementById('root')!).render(<App />);
```

> 실행하면 동일한 데이터로 만든 **카드 그리드**를 세 가지 접근으로 비교할 수 있습니다.
>
> * **CSS 모듈**: 정통 CSS 흐름 + 클래스명 충돌 방지
> * **styled-components**: props 기반 동적 스타일, 컴포넌트 단위 재사용에 강함
> * **Tailwind**: 빠른 조립, 일관된 디자인 규칙 강제

---

## 4) 실습 미션 (Hands-on)

1. **반응형 개선**

   * 모바일에서는 `minmax(200px,1fr)`로, 데스크톱에서는 `minmax(280px,1fr)`가 되도록 그리드 변경
   * Tailwind의 **반응형 접두사(sm/md/lg)**, CSS 모듈/SC에서는 **미디어쿼리**로 구현

2. **상태 배지 확장**

   * `tag`를 `New|Hot|Beta|Deprecated`로 확장하고 색상 규칙 추가
   * styled-components는 props 조건부 스타일, Tailwind는 맵 객체 확장

3. **호버 인터랙션**

   * 카드 호버 시 이미지 확대(살짝 scale), 버튼 색상 반전
   * CSS 모듈/SC는 `:hover`, Tailwind는 `hover:` 유틸 사용

4. **다크 모드(선택)**

   * Tailwind `dark:` 프리픽스 또는 `data-theme` 속성을 사용해 변수 기반 테마 적용
   * styled-components는 **ThemeProvider**로 팔레트 주입

5. **접근성 강화**

   * 카드에 `aria-label` 또는 내부 제목을 `<h3>`로 승격
   * 키보드 포커스 시 outline 스타일 보강(세 방식 모두 적용)

---

## 5) 자주 하는 실수 & 베스트 프랙티스

* **클래스명 충돌**: CSS 모듈을 쓰면 자동 해결. 전역 스타일은 최소화.
* **조건부 스타일 난립**: styled-components는 **props에 명확한 타입**을 주고, Tailwind는 **클래스 조합 맵**을 사용해 관리.
* **재사용성 확보**: 공통 패딩/라운드/섀도우는 토큰화(상수/테마)하거나 Tailwind 프리셋/플러그인으로 추출.
* **퍼포먼스**: styled-components 조건부 스타일은 런타임 계산이므로 **불필요한 재계산**이 없도록 분기 단순화.
* **일관성**: Tailwind는 팀 차원의 **spacing/색상 scale**을 합의해 `tailwind.config`에 정의.

---

## 6) 예상 질문(Q\&A)

**Q1. CSS 모듈과 전역 CSS는 함께 써도 될까요?**
A. 가능합니다. **리셋/베이스 스타일**만 전역에 두고, 컴포넌트 스타일은 모듈로 관리하는 것을 권장합니다.

**Q2. styled-components가 느리다는 얘기를 들었습니다.**
A. 기본적인 규모에서는 문제 없습니다. 대규모/고빈도 조건부 스타일은 **스타일 분리, memo, 조건 단순화**로 최적화하세요.

**Q3. Tailwind는 HTML이 지저분해 보입니다.**
A. 대신 **속도와 일관성**을 얻습니다. 자주 쓰는 패턴은 **컴포넌트 추출** 또는 `@apply`(컴포넌트 레이어)로 정리할 수 있습니다.

**Q4. 팀 표준은 무엇으로 잡는 게 좋을까요?**
A. 디자인 토큰과 공통 UI 컴포넌트 계획이 있다면 **Tailwind + Headless 컴포넌트** 조합이 빠릅니다. 화면별 변주가 많고 컴포넌트 내부에서 스타일 로직을 강하게 제어해야 한다면 **styled-components**가 유리합니다. 가장 단순히 시작하려면 **CSS 모듈**로 시작해도 충분합니다.

**Q5. 세 가지를 섞어 써도 되나요?**
A. 기술적으로 가능하나 **팀 규칙**을 정해 **한 가지를 주력**으로 추천합니다. 이 장에서는 비교 학습을 위해 동시에 보여주었습니다.

---


